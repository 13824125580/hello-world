syntax on
set number
set hlsearch
set autoindent
let mapleader=","

map <C-F12> :!ctags -R --c++-kinds=+p --fields=+iaS --extra=+q .<CR> 
set nocompatible              " be iMproved  
filetype off                  " required!  
set nocp  
filetype plugin on  
  
set rtp+=~/.vim/bundle/vundle/  
call vundle#rc()  
  
" let Vundle manage Vundle  
" required!   
Bundle 'gmarik/vundle'  
  
" å¯ä»¥é€šè¿‡ä»¥ä¸‹å››ç§æ–¹å¼æŒ‡å®šæ’ä»¶çš„æ¥æº  
" a) æŒ‡å®šGithubä¸­vim-scriptsä»“åº“ä¸­çš„æ’ä»¶ï¼Œç›´æ¥æŒ‡å®šæ’ä»¶åç§°å³å¯ï¼Œæ’ä»¶æ˜ä¸­çš„ç©ºæ ¼ä½¿ç”¨â€œ-â€ä»£æ›¿ã€‚  
Bundle 'L9'  
  
" b) æŒ‡å®šGithubä¸­å…¶ä»–ç”¨æˆ·ä»“åº“çš„æ’ä»¶ï¼Œä½¿ç”¨â€œç”¨æˆ·å/æ’ä»¶åç§°â€çš„æ–¹å¼æŒ‡å®š  
Bundle 'tpope/vim-fugitive'  
Bundle 'Lokaltog/vim-easymotion'  
Bundle 'rstacruz/sparkup', {'rtp': 'vim/'}  
Bundle 'tpope/vim-rails.git'  
  
" c) æŒ‡å®šéGithubçš„Gitä»“åº“çš„æ’ä»¶ï¼Œéœ€è¦ä½¿ç”¨gitåœ°å€  
Bundle 'git://git.wincent.com/command-t.git'  
  
" d) æŒ‡å®šæœ¬åœ°Gitä»“åº“ä¸­çš„æ’ä»¶  
"Bundle 'file:///Users/gmarik/path/to/plugin'  
  
filetype plugin indent on     " required!  
"Bundle 'wesleyche/Trinity'
Bundle 'STL-improved'
Plugin 'scrooloose/syntastic'
Plugin 'jiangmiao/auto-pairs'
Plugin 'scrooloose/nerdcommenter'
Bundle 'scrooloose/nerdtree'
Bundle 'majutsushi/tagbar'
Bundle 'molokai'
Bundle 'evening_2'
Bundle 'kien/ctrlp.vim'
Bundle 'AutoClose'
Bundle 'matchit.zip'
Bundle 'less.vim'
Bundle 'The-NERD-tree'
Bundle 'The-NERD-Commenter'
Bundle 'godlygeek/tabular'
Bundle 'qiyu2580/vimcdoc'
Bundle 'vim-scripts/Emmet.vim'
Bundle 'auto_mkdir'
Bundle 'UltiSnips'
Bundle 'hallettj/jslint.vim'
Bundle 'EasyMotion'
Bundle 'Yggdroot/indentLine'
Bundle 'plasticboy/vim-markdown'
Bundle 'vcscommand.vim'
Bundle 'mhinz/vim-startify'
Bundle 'terryma/vim-expand-region'
Bundle 'tpope/vim-surround'
Bundle 'rking/ag.vim'
Bundle 'taiansu/nerdtree-ag'
Bundle 'heavenshell/vim-jsdoc'
Bundle 'Shougo/vimproc.vim'
Bundle 'Shougo/vimshell.vim'
Bundle 'Shougo/neocomplcache.vim'
Bundle 'othree/xml.vim'
Bundle 'hail2u/vim-css3-syntax'
Bundle 'maksimr/vim-jsbeautify'
Bundle 'einars/js-beautify'
Bundle 'vim-scripts/winmanager'
Bundle 'bling/vim-airline' 
Bundle 'taglist.vim'
Bundle 'fholgado/minibufexpl.vim' 
Bundle 'SuperTab'
Bundle 'vimwiki'
Bundle 'bufexplorer.zip'
Bundle 'matrix.vim--Yang'
Bundle 'FencView.vim'
Bundle 'Conque-Shell'
Bundle 'Vimpress'
Bundle 'Markdown'
Bundle 'LaTeX-Suite-aka-Vim-LaTeX'
Bundle 'c.vim'
Bundle 'snipMate'
Bundle 'EasyGrep'
Bundle 'OmniCppComplete'

" Under linux need exec 'dos2unix  ~/.vim/bundle/QFixToggle/plugin/qfixtoggle.vim'
Bundle 'QFixToggle'

Bundle 'Color-Sampler-Pack'
Bundle 'altercation/vim-colors-solarized'
Plugin 'jnurmine/Zenburn'
Plugin 'jistr/vim-nerdtree-tabs'
Bundle 'txt.vim'
Bundle 'mru.vim'
"Bundle 'YankRing.vim'
Bundle 'maxbrunsfeld/vim-yankstack'
Bundle 'DoxygenToolkit.vim'
Bundle 'tczengming/headerGatesAdd.vim'
"Bundle 'ShowMarks'
"Bundle 'Lokaltog/vim-powerline'
Bundle 'Valloric/YouCompleteMe'
Bundle 'grep.vim'
Bundle 'mbbill/undotree'
" Fast file navigation
Bundle 'wincent/Command-T'
Bundle 'a.vim'
Plugin 'tmhedberg/SimpylFold'
Bundle 'wesleyche/SrcExpl'
Bundle 'motemen/git-vim'
Bundle 'kien/tabman.vim'
"Bundle 'fisadev/vim-debug.vim'
Bundle 'vim-scripts/TxtBrowser'

let g:SimpylFold_docstring_preview=1
let g:EasyGrepMode = 2     " All:0, Open Buffers:1, TrackExt:2, 
let g:EasyGrepCommand = 0  " Use vimgrep:0, grepprg:1
let g:EasyGrepRecursive  = 1 " Recursive searching
let g:EasyGrepIgnoreCase = 1 " not ignorecase:0
let g:EasyGrepFilesToExclude = "*.bak, *~, cscope.*, *.a, *.o, *.pyc, *.bak"

let g:SuperTabDefaultCompletionType="context"
let g:miniBufExplMapWindowNavVim = 1 
let g:miniBufExplMapWindowNavArrows = 1 
let g:miniBufExplMapCTabSwitchBufs = 1 
let g:miniBufExplModSelTarget = 1 
let g:miniBufExplMoreThanOne=0 
map <F11> :MBEbp<CR> 

let Tlist_Ctags_Cmd='ctags' 
let Tlist_Show_One_File=1 
"ä¸åŒæ—¶æ˜¾ç¤ºå¤šä¸ªæ–‡ä»¶çš„tagï¼Œåªæ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„ let Tlist_WinWidt =28 
"è®¾ç½®taglistçš„å®½åº¦ let Tlist_Exit_OnlyWindow=1 
"å¦‚æœtaglistçª—å£æ˜¯æœ€å1ä¸ªçª—å£ï¼Œåˆ™é€€å‡ºvim 
"let Tlist_Use_Right_Window=1 "åœ¨å³è¾¹çª—å£ä¸­æ˜¾ç¤ºtaglistçª—å£ 
let Tlist_Use_Left_Windo =1 "åœ¨å·¦è¾¹çª—å£ä¸­æ˜¾ç¤ºtaglistçª—å£

set laststatus=2
let &termencoding=&encoding 
set fileencodings=utf(8),gbk
let g:NERDTree_title="[NERDTree]"
let g:winManagerWindowLayout="NERDTree|TagList" 
"let g:winManagerWindowLayout="FileExplorer|TagList" 
function! NERDTree_Start() 
	exec 'NERDTree' 
endfunction 
function! NERDTree_IsValid() 
	return 1 
endfunction 
nmap wm :WMToggle<CR>
let NERDTreeWinPos='left'
let NERDTreeWinSize=30
let g:NERDTreeDirArrowExpandable = 'â–¸'
let g:NERDTreeDirArrowCollapsible = 'â–¾'
let g:NERDTreeDirArrows=0
map <F2> :NERDTreeToggle<CR>

map <F8> :TagbarToggle<CR>
set omnifunc=syntaxcomplete#Complete
set tags+=./../tags

syntax on

" Javascript syntax hightlight
 syntax enable

" Set syntax highlighting for specific file types
autocmd BufRead,BufNewFile Appraisals set filetype=ruby
autocmd BufRead,BufNewFile *.md set filetype=markdown
autocmd Syntax javascript set syntax=jquery

set t_Co=256                " Explicitly tell vim that the terminal supports 256 colors, need before setting the colorscheme
" Color scheme

" solarized theme
"let g:solarized_termcolors=256
"colorscheme solarized

if has('gui_running')
      set background=dark
      colorscheme solarized
else
      colorscheme molokai
endif
      
set background=dark

" vim-powerline
"set laststatus=2            " always have status-line'
"let g:Powerline_symbols = 'fancy'"

set cursorline   
set cursorcolumn
highlight CursorLine   cterm=NONE ctermbg=black ctermfg=yellow guibg=NONE guifg=NONE
highlight CursorColumn cterm=NONE ctermbg=black ctermfg=green guibg=NONE guifg=NONE

"--------------------------------------------------------------------------
"vim-airline   
"--------------------------------------------------------------------------
"è¿™ä¸ªæ˜¯å®‰è£…å­—ä½“å å¿…é¡»è®¾ç½®æ­¤é¡¹" 
let g:airline_powerline_fonts = 1   
               
"æ‰“å¼€tablineåŠŸèƒ½,æ–¹ä¾¿æŸ¥çœ‹Bufferå’Œåˆ‡æ¢,çœå»äº†minibufexplæ’ä»¶
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#buffer_nr_show = 1
            
"è®¾ç½®åˆ‡æ¢Bufferå¿«æ·é”®"
nnoremap <C-tab> :bn<CR>
nnoremap <C-s-tab> :bp<CR>
" å…³é—­çŠ¶æ€æ˜¾ç¤ºç©ºç™½ç¬¦å·è®¡æ•°
let g:airline#extensions#whitespace#enabled = 0
let g:airline#extensions#whitespace#symbol = '!'
" è®¾ç½®consolaså­—ä½“"å‰é¢å·²ç»è®¾ç½®è¿‡
"set guifont=Consolas\ for\ Powerline\ FixedD:h11
if !exists('g:airline_symbols')
  let g:airline_symbols = {}
endif         
              
" unicode symbols
let g:airline_left_sep = 'Â»'
let g:airline_left_sep = 'â–¶'
let g:airline_right_sep = 'Â«'
let g:airline_right_sep = 'â—€'
let g:airline_symbols.crypt = 'ğŸ”’ '
let g:airline_symbols.linenr = 'âŠ'
let g:airline_symbols.linenr = 'â¤'
let g:airline_symbols.linenr = 'Â¶'
let g:airline_symbols.maxlinenr = 'â˜°'
let g:airline_symbols.maxlinenr = ''
let g:airline_symbols.branch = 'â‡'
let g:airline_symbols.paste = 'Ï'
let g:airline_symbols.paste = 'Ã'
let g:airline_symbols.paste = 'âˆ¥'
let g:airline_symbols.spell = 'ê¨'
let g:airline_symbols.notexists = 'âˆ„'
let g:airline_symbols.whitespace = 'Î'

set foldmethod=indent
set foldlevel=99
" Enable folding with the spacebar
nnoremap <space> za

" // The switch of the Source Explorer 
nmap <F5> :SrcExplToggle<CR> 

" // Set the height of Source Explorer window 
let g:SrcExpl_winHeight = 8 

" // Set 100 ms for refreshing the Source Explorer 
let g:SrcExpl_refreshTime = 100 

" // Set "Enter" key to jump into the exact definition context 
" let g:SrcExpl_jumpKey = "<ENTER>" 

" // Set "Space" key for back from the definition context 
" let g:SrcExpl_gobackKey = "<SPACE>" 

" // In order to avoid conflicts, the Source Explorer should know what plugins
" // except itself are using buffers. And you need add their buffer names into
" // below listaccording to the command ":buffers!"
let g:SrcExpl_pluginList = [ 
        \ "__Tag_List__", 
        \ "_NERD_tree_" 
    \ ] 

" // Enable/Disable the local definition searching, and note that this is not 
" // guaranteed to work, the Source Explorer doesn't check the syntax for now. 
" // It only searches for a match with the keyword according to command 'gd' 
let g:SrcExpl_searchLocalDef = 1 

" // Do not let the Source Explorer update the tags file when opening 
let g:SrcExpl_isUpdateTags = 0 

" // Use 'Exuberant Ctags' with '--sort=foldcase -R .' or '-L cscope.files' to 
" // create/update the tags file 
let g:SrcExpl_updateTagsCmd = "ctags --sort=foldcase -R ." 

" // Set "<F12>" key for updating the tags file artificially 
"let g:SrcExpl_updateTagsKey = "<F12>" 

" // Set "<F3>" key for displaying the previous definition in the jump list 
"let g:SrcExpl_prevDefKey = "<F3>" 

nnoremap <silent> <F3> :Grep<CR>
" // Set "<F4>" key for displaying the next definition in the jump list 
let g:SrcExpl_nextDefKey = "<F4>" 
nmap <C-H> <C-W>h 
nmap <C-J> <C-W>j 
nmap <C-K> <C-W>k 
nmap <C-L> <C-W>l 

"Below key mappings can replace the Vim feature for jumping to previously visited locations via jump list. 

nmap <C-I> <C-W>j:call g:SrcExpl_Jump()<CR> 
nmap <C-O> :call g:SrcExpl_GoBack()<CR> 
set modifiable
setlocal modifiable 
set laststatus=2
set statusline=%{GitBranch()}

"syntax on "syntax highlighting on 
"filetype plugin on 
"au BufEnter *.txt setlocal ft=txt

syntax on
let tlist_txt_settings = 'txt;c:content;f:figures;t:tables'
au BufRead,BufNewFile *.txt setlocal ft=txt

"========================================================
" Highlight All Function
"========================================================
 syn   match    cFunction "\<[a-zA-Z_][a-zA-Z_0-9]*\>[^()]*)("me=e-2
 syn   match    cFunction "\<[a-zA-Z_][a-zA-Z_0-9]*\>\s*("me=e-1
 hi  cFunction         gui =NONE  guifg =#B5A1FF

"========================================================
" Highlight All Math Operator
"========================================================
" C math operators
 syn   match        cMathOperator     display "[-+\*/%=]"
" C pointer operators
 syn   match        cPointerOperator  display "->\|\."
" C logical   operators - boolean results
 syn   match        cLogicalOperator  display "[!<>]=\="
 syn   match        cLogicalOperator  display "=="
" C bit operators
 syn   match        cBinaryOperator   display "\(&\||\|\^\|<<\|>>\)=\="
 syn   match        cBinaryOperator   display "\~"
 syn   match        cBinaryOperatorError display "\~="
" More C logical operators - highlight in preference to binary
 syn   match        cLogicalOperator  display "&&\|||"
 syn   match        cLogicalOperatorError display "\(&&\|||\)="

" Math Operator
 hi  cMathOperator             guifg =#3EFFE2
 hi  cPointerOperator          guifg =#3EFFE2
 hi  cLogicalOperator          guifg =#3EFFE2
 hi  cBinaryOperator           guifg =#3EFFE2
 hi  cBinaryOperatorError      guifg =#3EFFE2
 hi  cLogicalOperator          guifg =#3EFFE2
 hi  cLogicalOperatorError     guifg =#3EFFE2

nmap <F4> :execute "cd" expand("%:p:h")<CR> 
set autochdir
